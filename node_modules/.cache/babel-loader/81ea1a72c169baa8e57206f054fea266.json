{"ast":null,"code":"import{jsxs as _jsxs}from\"react/jsx-runtime\";import{jsx as _jsx}from\"react/jsx-runtime\";import _defineProperty from\"C:/Users/IDO/IdeaProjects/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/defineProperty\";import _classCallCheck from\"C:/Users/IDO/IdeaProjects/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/classCallCheck\";import _createClass from\"C:/Users/IDO/IdeaProjects/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createClass\";import _inherits from\"C:/Users/IDO/IdeaProjects/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/inherits\";import _createSuper from\"C:/Users/IDO/IdeaProjects/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createSuper\";import React,{Component}from'react';import'./Login.css';import axios from'axios';import Googlelogin from\"react-google-login\";var Login=/*#__PURE__*/function(_Component){_inherits(Login,_Component);var _super=_createSuper(Login);function Login(props){var _this;_classCallCheck(this,Login);_this=_super.call(this,props);_this.postData=function(event){event.preventDefault();var email=_this.state.email;var password=_this.state.password;var data={email:email,password:password};axios.post('/users/logIn',data).then(function(res){if(res.data.status===false){alert('Password is incorrect');console.log('Password is incorrect');var passwordField=document.querySelector(\"#password\");passwordField.value=\"\";passwordField.focus();}else{localStorage.setItem('user',res.data.token);console.log(res.data);document.getElementById(\"log_in_form\").reset();window.location.replace(\"/Sign_up\");}}).catch(function(error){console.log(error.response.data.error);alert(error.response.data.error);document.getElementById(\"log_in_form\").reset();});};_this.changeData=function(event){event.preventDefault();_this.setState(_defineProperty({},event.target.name,event.target.value));};_this.responseGoogle=function(response){console.log(response);console.log(response.profileObj.email);var email=response.profileObj.email;axios.get('/users/userByEmail/'+email).then(function(res){console.log(res.data);localStorage.setItem('user',res.data.token);window.location.replace(\"/\");}).catch(function(error){console.log(error.response.data);alert(error.response.data);});};_this.state={email:'',password:''};return _this;}_createClass(Login,[{key:\"render\",value:function render(){return/*#__PURE__*/_jsx(\"div\",{className:\"bg-img\",onSubmit:this.postData,children:/*#__PURE__*/_jsxs(\"div\",{className:\"content\",children:[/*#__PURE__*/_jsx(\"header\",{children:\"Login\"}),/*#__PURE__*/_jsxs(\"form\",{className:\"log_in_form\",id:\"log_in_form\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"field\",children:[/*#__PURE__*/_jsx(\"span\",{className:\"fa fa-user\"}),/*#__PURE__*/_jsx(\"input\",{type:\"email\",name:\"email\",placeholder:\"Email\",onChange:this.changeData,required:true})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"field space\",children:[/*#__PURE__*/_jsx(\"span\",{className:\"fa fa-lock\"}),/*#__PURE__*/_jsx(\"input\",{type:\"password\",name:\"password\",className:\"pass-key\",id:\"password\",placeholder:\"Password\",onChange:this.changeData,required:true})]}),/*#__PURE__*/_jsx(\"div\",{className:\"pass\",children:/*#__PURE__*/_jsx(\"a\",{href:\"/Forgot_password\",children:\"Forgot Password?\"})}),/*#__PURE__*/_jsx(\"div\",{className:\"field\",children:/*#__PURE__*/_jsx(\"input\",{type:\"submit\",value:\"LOGIN\"})}),/*#__PURE__*/_jsxs(\"div\",{className:\"login\",value:\"LOGIN\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"google\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"login-google\",children:\"-OR-\"}),/*#__PURE__*/_jsx(\"br\",{}),/*#__PURE__*/_jsx(Googlelogin,{theme:\"dark\",clientId:\"827335749398-g12fd8p9suobcl887parlivmj90hrtns.apps.googleusercontent.com\",buttonText:\"Sign in with Google\",onSuccess:this.responseGoogle,onFailure:this.responseGoogle,cookiePolicy:'single_host_origin'})]}),/*#__PURE__*/_jsx(\"br\",{}),/*#__PURE__*/_jsxs(\"div\",{className:\"pass2\",children:[\"Dont have an account? \",/*#__PURE__*/_jsx(\"a\",{href:\"/Sign_up\",children:\"Sign up\"})]})]})]})]})});}}]);return Login;}(Component);export default Login;","map":{"version":3,"sources":["C:/Users/IDO/IdeaProjects/client/src/Components/Pages/Login.js"],"names":["React","Component","axios","Googlelogin","Login","props","postData","event","preventDefault","email","state","password","data","post","then","res","status","alert","console","log","passwordField","document","querySelector","value","focus","localStorage","setItem","token","getElementById","reset","window","location","replace","catch","error","response","changeData","setState","target","name","responseGoogle","profileObj","get"],"mappings":"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","sourcesContent":["import React, {Component} from 'react';\r\nimport './Login.css';\r\nimport axios from 'axios'\r\nimport Googlelogin from \"react-google-login\";\r\n\r\n\r\n\r\nclass Login extends Component {\r\n\r\n\r\n    constructor(props) {\r\n        super(props);\r\n        this.state = {\r\n            email: '',\r\n            password: ''\r\n        }\r\n    }\r\n\r\n    postData = (event) => {\r\n        event.preventDefault();\r\n        const email = this.state.email;\r\n        const password = this.state.password;\r\n        const data = {email, password};\r\n\r\n        axios.post('/users/logIn', data)\r\n            .then(res => {\r\n                if (res.data.status === false) {\r\n                    alert('Password is incorrect');\r\n                    console.log('Password is incorrect');\r\n                    const passwordField = document.querySelector(\"#password\");\r\n                    passwordField.value = \"\";\r\n                    passwordField.focus();\r\n                } else {\r\n                    localStorage.setItem('user', res.data.token);\r\n                    console.log(res.data);\r\n                    document.getElementById(\"log_in_form\").reset();\r\n                    window.location.replace(\"/Sign_up\");\r\n                }\r\n            }).catch(error => {\r\n            console.log(error.response.data.error);\r\n            alert(error.response.data.error);\r\n            document.getElementById(\"log_in_form\").reset();\r\n        })\r\n    };\r\n\r\n    changeData = (event) => {\r\n        event.preventDefault();\r\n        this.setState({\r\n            [event.target.name]: event.target.value\r\n        })\r\n\r\n    };\r\n\r\n    responseGoogle = (response) => {\r\n        console.log(response);\r\n        console.log(response.profileObj.email);\r\n        const email = response.profileObj.email;\r\n        axios.get('/users/userByEmail/' + email).then(res => {\r\n            console.log(res.data);\r\n            localStorage.setItem('user', res.data.token);\r\n            window.location.replace(\"/\");\r\n        }).catch(error => {\r\n            console.log(error.response.data);\r\n            alert(error.response.data);\r\n        })\r\n    }\r\n\r\n    render() {\r\n\r\n        return (\r\n            <div className=\"bg-img\" onSubmit={this.postData}>\r\n            <div className=\"content\">\r\n                <header>Login</header>\r\n                <form className=\"log_in_form\" id=\"log_in_form\">\r\n                    <div className=\"field\">\r\n                        <span className=\"fa fa-user\"/>\r\n                        <input type=\"email\" name='email' placeholder=\"Email\" onChange={this.changeData} required/>\r\n                    </div>\r\n                    <div className=\"field space\">\r\n                        <span className=\"fa fa-lock\"/>\r\n                        <input type=\"password\" name='password' className=\"pass-key\" id=\"password\"\r\n                               placeholder=\"Password\"\r\n                               onChange={this.changeData} required/>\r\n                    </div>\r\n                    <div className=\"pass\">\r\n                        <a href=\"/Forgot_password\">Forgot Password?</a>\r\n                    </div>\r\n                    <div className=\"field\">\r\n                        <input type=\"submit\" value=\"LOGIN\"/>\r\n                    </div>\r\n                    <div className='login' value=\"LOGIN\">\r\n\r\n                        <div className='google'>\r\n                            <div className='login-google'>-OR-</div>\r\n                            <br/>\r\n                            <Googlelogin\r\n                                theme='dark'\r\n                                clientId='827335749398-g12fd8p9suobcl887parlivmj90hrtns.apps.googleusercontent.com'\r\n                                buttonText='Sign in with Google'\r\n                                onSuccess={this.responseGoogle}\r\n                                onFailure={this.responseGoogle}\r\n                                cookiePolicy={'single_host_origin'}\r\n                            />\r\n                        </div>\r\n                        <br/>\r\n                        <div className=\"pass2\">\r\n                            Dont have an account? <a href=\"/Sign_up\">Sign up</a>\r\n                        </div>\r\n                    </div>\r\n\r\n                </form>\r\n            </div>\r\n\r\n        </div>\r\n        );\r\n    }\r\n\r\n}\r\n\r\nexport default Login;\r\n"]},"metadata":{},"sourceType":"module"}